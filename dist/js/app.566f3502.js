(function(e){function t(t){for(var i,r,o=t[0],l=t[1],c=t[2],d=0,g=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&g.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(g.length)g.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},s={app:0},n=[];function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"105a":function(e,t,a){"use strict";var i=a("4f9a"),s=a.n(i);s.a},1890:function(e,t,a){},"4f9a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),s=a("5f5b"),n=a("8aa5"),r=a.n(n),o={apiKey:"AIzaSyA_n8zAZIEIxbegQpaDRcPuM3BaXm1Apr4",authDomain:"burgers-best-stage.firebaseapp.com",databaseURL:"https://burgers-best-stage.firebaseio.com",projectId:"burgers-best-stage",storageBucket:"burgers-best-stage.appspot.com",messagingSenderId:"1089706900218",appId:"1:1089706900218:web:eeda4bc080b7ea5f"},l=r.a.initializeApp(o),c=l.database(),u=c.ref("burgers"),d=c.ref("images_container"),g=c.ref("images_approved"),h=c.ref("images_rejected"),m=c.ref("images"),p=c.ref("users"),f=a("0ff2"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},b=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row text-center",staticStyle:{"margin-top":"10%"}},[a("div",{staticClass:"col-md-4"}),a("div",{staticClass:"col-md-4 col-sm-12 align-self-center"},[a("h3",{staticClass:"mb-5"},[e._v("Best Burgers Admin Login")]),a("form",{on:{submit:e.loginClicked}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("input",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit",value:"Login"}})])]),e.showAnimation?a("div",{staticClass:"col-md-12"},[a("br"),a("LoadingAnimation")],1):e._e()])])},y=[],w=(a("ac6a"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),k=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lds-roller"},[a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div"),a("div")])}],A={name:"LoadingAnimation"},C=A,x=(a("105a"),a("2877")),P=Object(x["a"])(C,w,k,!1,null,"bb8f76da",null),j=P.exports,I={name:"Login",components:{LoadingAnimation:j},data:function(){return{email:"",password:"",showAnimation:!1}},methods:{loginClicked:function(e){var t=this;e.preventDefault();this.showAnimation=!0,r.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){p.orderByChild("email").equalTo(e.user.email).on("value",function(e){e.forEach(function(e){e.val().role&&"admin"==e.val().role.toLowerCase()?t.$router.push("home"):(r.a.auth().signOut().then(function(){}),alert("You are not an Admin!"))})});t.showAnimation=!1},function(e){alert(e.message),t.showAnimation=!1})}}},S=I,E=Object(x["a"])(S,_,y,!1,null,null,null),T=E.exports,O={components:{Login:T}},B=O,M=Object(x["a"])(B,v,b,!1,null,null,null),D=M.exports,L=a("8c4f"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Navbar"),a("div",{staticClass:"container"},[a("CategoryTabs")],1)],1)},N=[],F=(a("a481"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary"}},[a("b-navbar-brand",{attrs:{href:"#"}},[e._v("Best Burgers")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("button",{staticClass:"btn text-light",attrs:{type:"button"},on:{click:e.signoutClicked}},[e._v("Logout")])])],1)],1)}),q=[],R=a("d0b9"),K={components:{"b-nav":R["a"]},methods:{signoutClicked:function(){var e=this;r.a.auth().signOut().then(function(){e.$router.replace("login")})}}},U=K,z=Object(x["a"])(U,F,q,!1,null,null,null),J=z.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt-3"},[a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("div",{staticClass:"col-md-12"},[e.showProcessing?a("LoadingAnimation"):e._e(),e.showAlert?a("Alert",{attrs:{type:e.alertType},on:{countDownEnded:e.hideAlert}},[e._v(e._s(e.alertMessage))]):e._e()],1),a("b-tab",{attrs:{title:"Burger Thumbnail Setting",active:""}},[a("div",{staticClass:"row"},e._l(e.approved_images,function(t,i){return a("div",{key:i,staticClass:"col-md-3 text-center mb-4"},[a("p",[e._v(e._s(e.getPlaceName(t[".key"])))]),a("Carousel",{attrs:{image_key:t[".key"],type:"thumbnail"}})],1)}),0)]),a("b-tab",{attrs:{title:"Burger Images Validation"}},[e.container.length>0?a("div",{staticClass:"row"},e._l(e.container,function(t,i){return a("div",{key:i,staticClass:"col-md-3 text-center mb-4"},[a("p",[e._v(e._s(e.getPlaceName(t[".key"])))]),a("Carousel",{attrs:{image_key:t[".key"],type:"images"}})],1)}),0):e._e()]),a("b-tab",{attrs:{title:"Burger Place Validation"}},[a("div",{staticClass:"row"},e._l(e.places,function(t,i){return a("div",{key:i,staticClass:"col-md-3 text-center mb-4"},[a("div",{staticClass:"image"},[t.highlight_image?a("img",{staticClass:"img img-responsive full-width",attrs:{src:t.highlight_image.url}}):a("img",{staticClass:"img img-responsive full-width",attrs:{src:"favicon.png"}})]),a("p",[e._v(e._s(t.burger_name))]),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-primary flex-fill",on:{click:function(a){return e.approveClicked(t)}}},[e._v("Approve")]),a("button",{staticClass:"btn btn-danger flex-fill",on:{click:function(a){return e.rejectClicked(t)}}},[e._v("Reject")])]),t.google_url?a("a",{staticClass:"btn btn-success mt-2 btn-block",attrs:{href:t.google_url,target:"_blank"}},[e._v("See on Maps")]):e._e()])}),0)])],1)],1)},Q=[],W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"thumbnail"==e.type&&e.images.length>0?a("div",[e.showProcessing?a("LoadingAnimation"):e._e(),e.showAlert?a("Alert",{attrs:{type:e.alertType},on:{countDownEnded:e.hideAlert}},[e._v(e._s(e.alertMessage))]):e._e(),a("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:0,controls:"",indicators:"",background:"#ababab"},on:{"sliding-start":e.onSlideStart,"sliding-end":e.onSlideEnd},model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},e._l(e.approved_images_container,function(t,i){return a("b-carousel-slide",{key:i,staticClass:"image"},[t?a("img",{staticClass:"img img-responsive full-width",attrs:{slot:"img",src:e.getImageUrl(i),alt:"image slot"},slot:"img"}):e._e(),e.burger_place.highlight_image&&e.burger_place.highlight_image.url==e.getImageUrl(i)?a("p",[e._v("\n        Thumbnail\n      ")]):e.burger_place.highlight_image?e._e():a("p",[e._v("\n        No Thumbnail\n      ")])])}),1),a("br"),a("button",{staticClass:"btn btn-primary btn-block",on:{click:e.setClicked}},[e._v("Set")])],1):"images"==e.type&&e.images.length>0?a("div",[e.showProcessingImage?a("LoadingAnimation"):e._e(),e.showAlertImage?a("Alert",{attrs:{type:e.alertType},on:{countDownEnded:e.hideAlert}},[e._v(e._s(e.alertMessage))]):e._e(),a("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:0,controls:"",indicators:"",background:"#ababab"},on:{"sliding-start":e.onSlideStart,"sliding-end":e.onSlideEnd},model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},e._l(e.approved_images_container,function(t,i){return a("b-carousel-slide",{key:i,staticClass:"image"},[t?a("img",{staticClass:"img img-responsive full-width",attrs:{slot:"img",src:e.getImageUrl(i),alt:"image slot"},slot:"img"}):e._e()])}),1),a("br"),a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-primary flex-fill",on:{click:e.approveClicked}},[e._v("\n      Approve\n    ")]),a("button",{staticClass:"btn btn-danger flex-fill",on:{click:e.rejectClicked}},[e._v("\n      Reject\n    ")])])],1):e._e()},X=[],Y=(a("456d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-alert",{attrs:{show:e.dismissCountDown,dismissible:"",fade:"",variant:e.type},on:{"dismiss-count-down":e.countDownChanged}},[e._t("default")],2)}),Z=[],G={props:["type"],data:function(){return{dismissCountDown:3,showDismissibleAlert:!1,dismissSecs:3}},methods:{countDownChanged:function(e){this.dismissCountDown=e,0==this.dismissCountDown&&this.$emit("countDownEnded")}}},H=G,ee=Object(x["a"])(H,Y,Z,!1,null,null,null),te=ee.exports,ae={name:"carousel",props:["image_key","type"],components:{LoadingAnimation:j,Alert:te},data:function(){return{slide:0,sliding:null,images:[],approved_images_ids:[],current_images:[],approved_images_container:[],container_images:[],approved_images_container_keys:[],rejected_images:[],burger_place:{},showProcessing:!1,showAlert:!1,alertMessage:"",alertType:"",showProcessingImage:!1,showAlertImage:!1}},firebase:{approved_images_ids:g.orderByKey(),images:m.orderByKey(),rejected_images:h.orderByKey(),container_images:d.orderByKey()},methods:{hideAlert:function(){this.showAlert=!1,this.showAlertImage=!1,this.alertMessage=""},onSlideStart:function(e){this.sliding=!0},onSlideEnd:function(e){this.sliding=!1},getImageUrl:function(e){for(var t=-1,a=0;a<this.images.length;a++)if(this.images[a][".key"]==e){t=a;break}return this.images[t].url},approveClicked:function(){var e=this;this.showProcessingImage=!0;var t=this.getSelectedImageIndex();if(-1==this.checkIfApprovedExist()){var a={};a[this.images[t][".key"]]=1,g.child(this.image_key).set(a,function(t){e.showAlertForImages(t,"Approved")})}else{var i=[];this.approved_images_ids.forEach(function(t){t[".key"]==e.image_key&&(i=t)}),i[this.images[t][".key"]]=1,g.child(this.image_key).set(i,function(t){e.showAlertForImages(t,"Approved")})}d.child(this.image_key).child(this.images[t][".key"]).remove().then(function(){e.getAllData()}).catch(function(e){})},rejectClicked:function(){var e=this;this.showProcessingImage=!0;var t=this.getSelectedImageIndex();if(-1==this.checkIfRejectedExist()){var a={};a[this.images[t][".key"]]=1,h.child(this.image_key).set(a,function(t){e.showAlertForImages(t,"Rejected")})}else{var i=[];this.rejected_images.forEach(function(t){t[".key"]==e.image_key&&(i=t)}),i[this.images[t][".key"]]=1,h.child(this.image_key).set(i,function(t){e.showAlertForImages(t,"Rejected")})}d.child(this.image_key).child(this.images[t][".key"]).remove().then(function(){e.getAllData()}).catch(function(e){})},setClicked:function(){var e=this;this.showProcessing=!0;var t=this.getSelectedImageIndex();u.child(this.image_key).update({highlight_image:this.images[t]},function(t){t?e.showAlertForThumbnail(t):e.showAlertForThumbnail()})},checkIfApprovedExist:function(){for(var e=-1,t=0;t<this.approved_images_ids.length;t++)if(this.approved_images_ids[t][".key"]==this.image_key){e=t;break}return e},checkIfRejectedExist:function(){for(var e=-1,t=0;t<this.rejected_images.length;t++)if(this.rejected_images[t][".key"]==this.image_key){e=t;break}return e},getSelectedImageIndex:function(){for(var e=-1,t=this.approved_images_container_keys[this.slide],a=0;a<this.images.length;a++)if(this.images[a][".key"]==t){e=a;break}return e},showAlertForImages:function(e,t){e?(this.showProcessingImage=!1,this.alertMessage=e.message,this.alertType="danger",this.showAlertImage=!0):(this.showProcessingImage=!1,t&&(this.alertMessage=t),this.alertType="primary",this.showAlertImage=!0)},showAlertForThumbnail:function(e){e?(this.showProcessing=!1,this.alertMessage=e.message,this.alertType="danger",this.showAlert=!0):(this.showProcessing=!1,this.alertMessage="Thumbnail Set successfully",this.alertType="primary",this.showAlert=!0)},getAllData:function(){var e=this;this.getBurgerPlace(),"thumbnail"==this.type?this.approved_images_ids.forEach(function(t){t[".key"]==e.image_key&&(e.approved_images_container=t,e.approved_images_container_keys=Object.keys(e.approved_images_container))}):this.container_images.forEach(function(t){t[".key"]==e.image_key&&(e.approved_images_container=t,e.approved_images_container_keys=Object.keys(e.approved_images_container))})},getBurgerPlace:function(){var e=this;u.orderByKey().equalTo(this.image_key).on("value",function(t){t.forEach(function(t){e.burger_place=t.val()})})}},mounted:function(){this.getAllData()}},ie=ae,se=(a("e741"),Object(x["a"])(ie,W,X,!1,null,"79654081",null)),ne=se.exports,re={name:"CategoryTabs",components:{Carousel:ne,LoadingAnimation:j,Alert:te},firebase:{places:u.orderByChild("was_reviewed").equalTo(!1),allPlaces:u.orderByKey(),approved_places:u.orderByChild("is_validated").equalTo(!0),approved_images:g,rejected:h,images:m,container:d},data:function(){return{places:[],images:[],approved:[],rejected:[],thumbnails:[],approved_places:[],approved_images:[],slide:0,sliding:null,container:[],allPlaces:[],alertMessage:"",showAlert:!1,showProcessing:!1,alertType:""}},methods:{hideAlert:function(){this.showAlert=!1,this.alertMessage=""},getPlaceName:function(e){for(var t=-1,a=0;a<this.allPlaces.length;a++)if(this.allPlaces[a][".key"]==e){t=a;break}return this.allPlaces[t].burger_name},onSlideStart:function(e){this.sliding=!0},onSlideEnd:function(e){this.sliding=!1},approveClicked:function(e){var t=this;this.showProcessing=!0;var a={was_reviewed:!0,is_validated:!0};u.child(e[".key"]).update(a,function(e){t.showPlaceAlert(e,"Approved successfully")})},rejectClicked:function(e){var t=this;this.showProcessing=!0,u.child(e[".key"]).update({was_reviewed:!0,is_validated:!1},function(e){t.showPlaceAlert(e,"Rejected successfully")})},showPlaceAlert:function(e,t){e?(this.showProcessing=!1,this.alertMessage=e.message,this.alertType="danger",this.showAlert=!0):(this.showProcessing=!1,this.alertMessage=t,this.alertType="success",this.showAlert=!0)}}},oe=re,le=(a("6e5c"),Object(x["a"])(oe,V,Q,!1,null,"a3a064c6",null)),ce=le.exports,ue={name:"home",components:{Navbar:J,CategoryTabs:ce},data:function(){return{}},methods:{signoutClicked:function(){var e=this;r.a.auth().signOut().then(function(){e.$router.replace("login")})}}},de=ue,ge=Object(x["a"])(de,$,N,!1,null,null,null),he=ge.exports;i["default"].use(L["a"]);var me=new L["a"]({mode:"history",base:"/",routes:[{path:"*",component:T},{path:"/",component:T},{path:"/login",name:"login",component:T},{path:"/home",name:"home",component:he,meta:{requeriesAuth:!0}}]});me.beforeEach(function(e,t,a){var i=r.a.auth().currentUser,s=e.matched.some(function(e){return e.meta.requeriesAuth});s&&!i?a("login"):!s&&i?a("home"):a()});var pe=me,fe=a("2f62");i["default"].use(fe["a"]);var ve=new fe["a"].Store({state:{},mutations:{},actions:{}}),be=a("9483");Object(be["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("f9e3"),a("2dd8");i["default"].config.productionTip=!1;var _e="";i["default"].use(s["a"]),i["default"].use(f["a"]),r.a.auth().onAuthStateChanged(function(){_e||(_e=new i["default"]({router:pe,store:ve,render:function(e){return e(D)}}).$mount("#app"))})},"6e5c":function(e,t,a){"use strict";var i=a("9a86"),s=a.n(i);s.a},"9a86":function(e,t,a){},e741:function(e,t,a){"use strict";var i=a("1890"),s=a.n(i);s.a}});
//# sourceMappingURL=app.566f3502.js.map